(this.webpackJsonpawesome=this.webpackJsonpawesome||[]).push([[0],{101:function(e,t,a){e.exports=a(146)},139:function(e,t){},144:function(e,t,a){e.exports=a.p+"static/media/alert.9fd5812c.mp3"},146:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(9),o=a.n(r),i=a(30),c=a(31),m=a(34),l=a(33),u=a(45),d=a(10),g=a(176),p=a(180),h=a(181),v=a(185),E=a(182),f=(a(65),function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:""},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(g.a,{className:"form-paper"},s.a.createElement(p.a,{variant:"h6",gutterBottom:!0,align:"center"},"Chat with random strangers"),s.a.createElement(p.a,{variant:"body2",component:"p",gutterBottom:!0},"Welcome to the Quickchatzz free Chat Roulette.You Must be 13+ to start a random chat with stranger.",s.a.createElement("br",null),"How to chat with strangers safely?",s.a.createElement("br",null),"Don't share your personal information or contacts,don't send any money to strangers.",s.a.createElement("br",null),"Enjoy the Quickchatzz!",s.a.createElement("br",null)),s.a.createElement(h.a,{container:!0,justify:"space-between",alignItems:"center",style:{marginTop:"20px"}},s.a.createElement(h.a,{item:!0,xs:9},s.a.createElement(v.a,{variant:"outlined",label:"Username",size:"small",style:{width:"100%"},onChange:function(t){e.setState({username:t.target.value}),e.props.setUsername(t.target.value)},onKeyDown:function(t){13==t.keyCode&&""!==e.state.username&&0!==e.state.username.indexOf(" ")&&e.props.history.push("/room")}})),s.a.createElement(h.a,{item:!0,xs:3,sm:2},s.a.createElement(E.a,{color:"primary",variant:"contained",size:"small",disabled:""==this.state.username||0===this.state.username.indexOf(" "),onClick:function(){e.props.history.push("/room")}},"start"))))}}]),a}(n.Component)),y=Object(d.e)(f),b=a(86),k=a.n(b),w=a(187),j=a(183),x=a(188),O=a(184),N=a(90),T=a.n(N),C=a(88),M=a.n(C),S=(a(142),a(143),a(87)),I=a.n(S),z=a(89),P=a.n(z),R=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).typingTimer=null,a.state={connected:!1,messages:[],activeMsg:"",username:"",roomId:null,connectedTo:"some",emojiObj:null,emojiPickerOpen:!1,isOtherTyping:!1},a.componentDidMount=function(){a.setState({username:a.props.username}),a.socket=k()("https://random-chat-by-node.herokuapp.com/");var e=Math.floor(1e6*Math.random());a.socket.emit("user-joined",{name:a.props.username,randomNumber:e}),a.socket.on("connected-to-user",(function(e){var t=a.state.messages;if(e.firstPerson===a.props.username){var n={msg:"Connected",name:e.secondPerson};t.push(n),a.setState({connectedTo:e.secondPerson})}else{n={msg:"Connected",name:e.firstPerson};t.push(n),a.setState({connectedTo:e.firstPerson})}a.setState({connected:!0,messages:t,roomId:e.roomId})})),a.socket.on("add-message",(function(e){var t=a.state.messages;t.push({name:a.state.connectedTo,msg:e}),a.setState({messages:t}),a.audioref.current.play()})),a.socket.on("add-image",(function(e){var t={name:e.name,msg:"image",src:e.image},n=a.state.messages;n.push(t),a.setState({messages:n})})),a.socket.on("disconnected",(function(){if(null!==a.state.connectedTo){var e=a.state.messages;e.push({name:a.state.connectedTo,msg:"left"}),a.setState({messages:e,connectedTo:null})}})),a.socket.on("is-typing",(function(){a.setState({isOtherTyping:!0}),clearTimeout(a.typingTimer),a.typingTimer=setTimeout((function(){a.setState({isOtherTyping:!1})}),500)}))},a.componentDidUpdate=function(){a.scrollIntoViewmsg()},a.componentWillUnmount=function(){a.socket.emit("disconnected-force",a.state.username)},a.sendMessage=function(){if(""!==a.state.activeMsg&&""!==a.state.activeMsg.indexOf(" ")){a.scrollIntoViewmsg();var e=a.state.messages,t={name:"You",msg:a.state.activeMsg};e.push(t),a.setState({messages:e}),a.socket.emit("send-message",{msg:a.state.activeMsg,roomId:a.state.roomId}),a.setState({activeMsg:""})}},a.handleImage=function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(e){a.setState({src:e.target.result});var t={name:"You",msg:"image",src:e.target.result},n=a.state.messages;n.push(t),a.setState({messages:n}),a.socket.emit("user-image",{name:a.props.username,image:e.target.result})}},a.connectOtherUser=function(){a.setState({connected:!1,connectedTo:"some",messages:[]});var e=Math.floor(1e6*Math.random());a.socket.emit("user-joined",{name:a.props.username,randomNumber:e})},a.isTyping=function(e){""!==e.target.value&&0!==e.target.value.indexOf(" ")&&a.socket.emit("user-typing")},a.selectEmoji=function(e,t){var n=a.state.activeMsg;n+=t.emoji,a.setState({activeMsg:n})},a.handleEmojiPicker=function(){a.setState({emojiPickerOpen:!a.state.emojiPickerOpen})},a.scrollIntoViewmsg=function(){a.chatboxRef.current.scrollIntoView({behavior:"smooth"})},a.chatboxRef=new s.a.createRef,a.audioref=new s.a.createRef,a}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(g.a,{className:"chat-paper",elevation:3},s.a.createElement("audio",{src:a(144),ref:this.audioref}),s.a.createElement(h.a,{style:{width:"100%",height:"100%"},direction:"column"},s.a.createElement(h.a,{item:!0,className:"chat-nav",xs:12,style:{height:"10%",verticalAlign:"middle"}},s.a.createElement(p.a,{variant:"body1",align:"center",style:{color:"white",paddingTop:"12px"}},"Random Chat")),s.a.createElement(h.a,{item:!0,xs:12,style:{overflowY:"scroll",overflowX:"hidden",height:"80%",position:"relative"}},!this.state.connected&&s.a.createElement("div",{style:{position:"absolute"},className:"waiting-text"},s.a.createElement(p.a,{variant:"body1"},"Waiting for a stranger to connect",s.a.createElement("div",{className:"waiting-dots one"}),s.a.createElement("div",{className:"waiting-dots two"}),s.a.createElement("div",{className:"waiting-dots three"}))),this.state.messages.map((function(e,t){return"Connected"===e.msg?s.a.createElement("div",{className:"joined-msg"},e.msg," to ",e.name,",say Hi!"):"left"===e.msg?s.a.createElement("div",{className:"joined-msg"},e.name," has ",e.msg):"image"==e.msg&&"You"==e.name?s.a.createElement("div",{className:"image-by-admin"},s.a.createElement("img",{src:e.src})):"image"==e.msg&&"You"!=e.name?s.a.createElement("div",{className:"image-by-other"},s.a.createElement("div",{className:"sender-name"},s.a.createElement(p.a,{variant:"body2"},e.name)," "),s.a.createElement("img",{src:e.src})):"You"==e.name?s.a.createElement("div",{className:"msg-by-admin"},s.a.createElement(p.a,{variant:"body2"},e.msg)):s.a.createElement("div",{className:"msg-by-other"},s.a.createElement("div",{className:"sender-name"},s.a.createElement(p.a,{variant:"body2"},e.name)," "),s.a.createElement(p.a,{variant:"body2"},e.msg))})),this.state.isOtherTyping&&s.a.createElement("div",{className:"other-typing"},s.a.createElement(p.a,{variant:"body1"}," ",this.state.connectedTo," is typing"," ",s.a.createElement("div",{className:"dots-anim one"}),s.a.createElement("div",{className:"dots-anim two"}),s.a.createElement("div",{className:"dots-anim three"}))),s.a.createElement("div",{style:{width:"100%"},ref:this.chatboxRef})),s.a.createElement(h.a,{item:!0,xs:12,style:{height:"12%",padding:"0px 6px",paddingTop:"10px"}},null==this.state.connectedTo?s.a.createElement(h.a,{item:!0,container:!0,xs:12,justify:"flex-end"},s.a.createElement(h.a,{item:!0,xs:3,sm:2},s.a.createElement(E.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){e.props.history.push("/")}},"Home")),s.a.createElement(h.a,{item:!0,xs:6,sm:4},s.a.createElement(E.a,{size:"small",color:"primary",variant:"contained",onClick:this.connectOtherUser},"Go to Next stranger"))):s.a.createElement(h.a,{item:!0,container:!0,xs:12,justify:"space-between",alignItems:"center",spacing:2,className:"bottom-grid"},s.a.createElement(h.a,{item:!0,xs:1},s.a.createElement("label",{htmlFor:"myInput"},s.a.createElement(M.a,{style:{color:"white",cursor:"pointer",marginTop:"4px"},size:"small",className:"camera-icon"})),s.a.createElement("input",{type:"file",style:{display:"none"},id:"myInput",onChange:this.handleImage,accept:"image/*"})),s.a.createElement(h.a,{item:!0,xs:9,style:{position:"relative"}},s.a.createElement(P.a,{size:"small",className:"emoji-icon",style:{position:"absolute"},onClick:this.handleEmojiPicker}),s.a.createElement("input",{autoFocus:!0,type:"text",placeholder:"Enter Message..",value:this.state.activeMsg,onChange:function(t){e.setState({activeMsg:t.target.value}),e.isTyping(t)},onKeyDown:function(t){13==t.keyCode&&e.sendMessage()}})),s.a.createElement(h.a,{item:!0,xs:2,sm:2},s.a.createElement(w.a,{xsDown:!0},s.a.createElement(E.a,{color:"primary",size:"small",variant:"contained",onClick:this.sendMessage},"Send")),s.a.createElement(w.a,{smUp:!0},s.a.createElement(j.a,{size:"small",color:"primary",style:{width:"35px",height:"20px"},onClick:this.sendMessage},s.a.createElement(T.a,{style:{fontSize:"0.9rem"},color:"white"}))))))),s.a.createElement(x.a,{open:this.state.emojiPickerOpen,onClose:this.handleEmojiPicker},s.a.createElement(O.a,null,s.a.createElement("div",{className:"emoji-picker-div"},s.a.createElement(I.a,{onEmojiClick:this.selectEmoji,className:"picker",style:{background:"green"}})))))}}]),n}(n.Component),U=Object(d.e)(R),D=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:""},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(u.a,{basename:window.location.pathname||""},s.a.createElement(d.a,{path:"/",exact:!0},s.a.createElement(y,{setUsername:function(t){e.setState({username:t})}})),s.a.createElement(d.a,{path:"/room",exact:!0},s.a.createElement(U,{username:this.state.username})))}}]),a}(n.Component);o.a.render(s.a.createElement(D,null),document.getElementById("root"))},65:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.947a7ce8.chunk.js.map